<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
    <style>
        #d1,#d2,#d3{
            width:150px; height:150px; border:1px solid;        /* 박스 크기 ㅣ150px 지정 */
        }
        #d4{
            width:350px; height:350px; border:1px solid;        /*  350px 크기 지정 */
        }
    </style>
<body>
    
    <div id="d1"></div>                         
    <hr>
    <a href="javascript:void(0)" id="d2">TEST</a>           <!-- 페이지 이동하지 않는 링크 a태그  생성-->
    <hr>
    <button onclick="Count()">TEST</button>             <!-- TEST 라는 Count함수의 버튼 생성 여기서 Count()는 자바스크립트 함수 속성임 !-->
    <hr>
    <form name="frm" action="test.jsp" onsubmit="return false" >         
        <input type="text" name="userid" /> 
        <input type="text" name="password" />
        <input class="submit-button" type="submit" value="버튼1" />     
        <button class="submit-button" >버튼2</button>
        <a href="javascript:void(0)" class="submit-button" >버튼3</a>
    </form>
    <hr>
    <div id="d3"></div>
    <hr>
    <div class="image-block">
    <img id="image" src="./195603_118838_3819.jpg" alt="fifa">
    </div>

    <div id="d4"></div>

    <script>
        // 클릭이벤트
        const d1Tg =  document.getElementById("d1");    //d1 id를 불러옴
        let cnt=0;                              // 숫자를 증가시킬 변수 하나를 만들어둔다
        d1Tg.addEventListener('click',(e)=>{        //클릭이 발생했을 때 생기는 이벤트
            console.log("clicked..",e)              //클릭하면 e 이벤트 객체 자체를 출력하낟.
            console.log("clicked..",e.target)       //클릭하면 e 의 요소를 출력한다. = html 요소 div 같은 
            d1Tg.innerHTML=`<h3>CLICKED...${++cnt}</h3>`;       //html
        })
        
        const d2Tg =  document.getElementById("d2");
        d2Tg.addEventListener('click',()=>{
            console.log("clicked a tag...")
        })
        //클로저함수
        function ClickHandler(){
            let cnt=0;
            function count(){
                cnt++;
                console.log("clicked...",cnt);
            }
            return count
        }
        const Count = ClickHandler();

        //폼버튼 클릭 이벤트
        const btns = document.querySelectorAll(".submit-button")
        console.log(btns)
        btns.forEach((el)=>{
            el.addEventListener('click',(e)=>{
                console.log('clicked..',e.target)
                
                if(!isValid(document.frm)){
                    //유효성 체크 오류발생 문제발생
                    return ;
                }
                document.frm.submit();
            })

        })

        function isValid(form){
            //console.log("isValid",typeof form.userid.value)
            if(form.userid.value.trim()===""){
                alert("ValidationCheck error..Userid를 입력하세요.")
                return false;
            }
            if(form.password.value.trim()===""){
                alert("ValidationCheck error..Password를 입력하세요.")
                return false;
            }  
            
            return true;
        }
        
        // mouseover / mouseLeave
        const d3tg = document.querySelector('#d3');
        d3tg.addEventListener('click',()=>{
            d3tg.innerHTML="<h3>CLICKED</h3>"
        })
        d3tg.addEventListener('mouseover',()=>{
            d3tg.innerHTML="<h3>MOUSEOVER</h3>"
        })
        d3tg.addEventListener('mouseleave',()=>{
            d3tg.innerHTML="<h3>MOUSELEAVE</h3>"
        })

        // drag , dragover dragstart dragend drop
        const image = document.querySelector('.image-block');
        const d4tg = document.querySelector('#d4');
        // image.addEventListener('dragstart',(e)=>{
        //     console.log("dragstart!",e)
        // })

        // image.addEventListener('dragend',(e)=>{
        //     console.log("dragend!",e)
        // });


        d4tg.addEventListener('dragover',(e)=>{
            console.log("dragover!",e)
            e.preventDefault()
        })

        d4tg.addEventListener('drop',(e)=>{
            console.log("drop!",e)
            console.log("drop!",e.dataTransfer)
            console.log("drop!",e.dataTransfer.files)
            console.log("drop!",e.dataTransfer.files[0])
            const file = e.dataTransfer.files[0];

            if(file.type.startsWith("image/")){
                console.log("IMAGE파일..")
                const imgTg=document.createElement('img')
                imgTg.src=URL.createObjectURL(file)
                imgTg.setAttribute("style","width:100px;height:100px")
                d4tg.appendChild(imgTg)

            }
            e.preventDefault();
        })







    </script>
    
</body>
</html>